import { useNavigate } from 'react-router-dom';
import { useState, useEffect } from 'react';
import axios from 'axios';
import styles from '../css/quickLinks.module.css';


function QuickLinks() {
    let navigate = useNavigate();
    const getCookie = (name) => {
        const value = `; ${document.cookie}`;
        const parts = value.split(`; ${name}=`);
        if (parts.length === 2) return parts.pop().split(';').shift();
        return null; // Return null if the cookie is not found
    };


    function home(){
        navigate("/");
    }
    function dashboard(){
        navigate("/dashboard");
    }
    function withdraw(){
        navigate("/withdrawal");
    }
    function deposit(){
        navigate("/deposit");
    }
    function transfer(){
        navigate("/transfer");
    }
    function transactionHistory(){
        navigate("/transactionHistory");
    }
    function login(){
        navigate("/login");
    }
    function register(){
        navigate("/register");
    }
    function logout(){
        document.cookie = "token=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;";
        setUser('Guest');
        navigate('/login');
    }
    const [user, setUser] = useState('Guest');
    
    useEffect(() => {
        if (getCookie('token')) {
            axios.get(`${process.env.REACT_APP_BACKEND_URL}/misc/getProfileNameFromUsername`, {
                headers: {
                    Authorization: `Bearer ${getCookie('token')}`,
                }
            })
            .then(response => {
                setUser(response.data.profileName);
                console.log(response.data)
            })
            .catch(error => {
                setUser('Guest');
            });
        }
    }, []);
    function openMobileQuickLinks() {
        navigate('/mobileQuickLinks');
    }

    return (
        <div>
            <div className={styles.mobileQuickLinks}>
                <button onClick={openMobileQuickLinks}>
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="size-5">
                        <path fill-rule="evenodd" d="M2 3.75A.75.75 0 0 1 2.75 3h14.5a.75.75 0 0 1 0 1.5H2.75A.75.75 0 0 1 2 3.75Zm0 4.167a.75.75 0 0 1 .75-.75h14.5a.75.75 0 0 1 0 1.5H2.75a.75.75 0 0 1-.75-.75Zm0 4.166a.75.75 0 0 1 .75-.75h14.5a.75.75 0 0 1 0 1.5H2.75a.75.75 0 0 1-.75-.75Zm0 4.167a.75.75 0 0 1 .75-.75h14.5a.75.75 0 0 1 0 1.5H2.75a.75.75 0 0 1-.75-.75Z" clip-rule="evenodd" />
                    </svg>
                </button>
            </div>
            <div className={styles.App}>
                <button>
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="size-5">
                        <path d="M10 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6ZM3.465 14.493a1.23 1.23 0 0 0 .41 1.412A9.957 9.957 0 0 0 10 18c2.31 0 4.438-.784 6.131-2.1.43-.333.604-.903.408-1.41a7.002 7.002 0 0 0-13.074.003Z" />
                    </svg>
                    <p>Welcome, {user}</p>
                </button>
                <button onClick={home}>
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="size-5">
                        <path fill-rule="evenodd" d="M9.293 2.293a1 1 0 0 1 1.414 0l7 7A1 1 0 0 1 17 11h-1v6a1 1 0 0 1-1 1h-2a1 1 0 0 1-1-1v-3a1 1 0 0 0-1-1H9a1 1 0 0 0-1 1v3a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1v-6H3a1 1 0 0 1-.707-1.707l7-7Z" clip-rule="evenodd" />
                    </svg>
                    <p>Home</p>
                </button>
                <button onClick={dashboard}>
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="size-5">
                        <path fill-rule="evenodd" d="M4.25 2A2.25 2.25 0 0 0 2 4.25v11.5A2.25 2.25 0 0 0 4.25 18h11.5A2.25 2.25 0 0 0 18 15.75V4.25A2.25 2.25 0 0 0 15.75 2H4.25ZM15 5.75a.75.75 0 0 0-1.5 0v8.5a.75.75 0 0 0 1.5 0v-8.5Zm-8.5 6a.75.75 0 0 0-1.5 0v2.5a.75.75 0 0 0 1.5 0v-2.5ZM8.584 9a.75.75 0 0 1 .75.75v4.5a.75.75 0 0 1-1.5 0v-4.5a.75.75 0 0 1 .75-.75Zm3.58-1.25a.75.75 0 0 0-1.5 0v6.5a.75.75 0 0 0 1.5 0v-6.5Z" clip-rule="evenodd" />
                    </svg>
                    <p>Dashboard</p>
                </button>
                <button onClick={deposit}>
                    <svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="32" height="32">
                        <path d="M0 0 C0.66209473 -0.00095673 1.32418945 -0.00191345 2.00634766 -0.00289917 C3.40852961 -0.00358076 4.8107147 -0.00172792 6.21289062 0.00244141 C8.36595713 0.00779004 10.51881502 0.0024958 12.671875 -0.00390625 C14.03125046 -0.00324546 15.3906258 -0.00196429 16.75 0 C18.61785156 0.00169189 18.61785156 0.00169189 20.5234375 0.00341797 C23.375 0.1328125 23.375 0.1328125 24.375 1.1328125 C24.65511184 5.1048832 24.60679176 9.08953666 24.625 13.0703125 C24.645625 14.19373047 24.66625 15.31714844 24.6875 16.47460938 C24.69523437 18.08239258 24.69523437 18.08239258 24.703125 19.72265625 C24.71714355 21.20560181 24.71714355 21.20560181 24.73144531 22.71850586 C24.61381836 23.51522705 24.49619141 24.31194824 24.375 25.1328125 C20.92139557 27.43521545 19.57000616 27.38973027 15.5 27.3984375 C14.35015625 27.40101562 13.2003125 27.40359375 12.015625 27.40625 C10.81421875 27.39851563 9.6128125 27.39078125 8.375 27.3828125 C6.57289062 27.39441406 6.57289062 27.39441406 4.734375 27.40625 C3.00960938 27.40238281 3.00960938 27.40238281 1.25 27.3984375 C-0.33167969 27.39505371 -0.33167969 27.39505371 -1.9453125 27.39160156 C-4.625 27.1328125 -4.625 27.1328125 -7.625 25.1328125 C-7.98144531 22.71850586 -7.98144531 22.71850586 -7.953125 19.72265625 C-7.94796875 18.65080078 -7.9428125 17.57894531 -7.9375 16.47460938 C-7.916875 15.35119141 -7.89625 14.22777344 -7.875 13.0703125 C-7.86984375 11.94302734 -7.8646875 10.81574219 -7.859375 9.65429688 C-7.76644532 0.00703482 -7.76644532 0.00703482 0 0 Z M-4.625 2.1328125 C-4.625 2.4628125 -4.625 2.7928125 -4.625 3.1328125 C-0.005 3.1328125 4.615 3.1328125 9.375 3.1328125 C9.375 2.8028125 9.375 2.4728125 9.375 2.1328125 C4.755 2.1328125 0.135 2.1328125 -4.625 2.1328125 Z M12.375 2.1328125 C12.375 4.4428125 12.375 6.7528125 12.375 9.1328125 C12.705 9.1328125 13.035 9.1328125 13.375 9.1328125 C13.375 6.8228125 13.375 4.5128125 13.375 2.1328125 C13.045 2.1328125 12.715 2.1328125 12.375 2.1328125 Z M-5.625 3.1328125 C-5.625 5.4428125 -5.625 7.7528125 -5.625 10.1328125 C-5.295 10.1328125 -4.965 10.1328125 -4.625 10.1328125 C-4.625 7.8228125 -4.625 5.5128125 -4.625 3.1328125 C-4.955 3.1328125 -5.285 3.1328125 -5.625 3.1328125 Z M15.375 3.1328125 C15.375 9.7328125 15.375 16.3328125 15.375 23.1328125 C16.365 22.8028125 17.355 22.4728125 18.375 22.1328125 C18.045 21.1428125 17.715 20.1528125 17.375 19.1328125 C17.28064021 17.13460522 17.24509699 15.13324047 17.25 13.1328125 C17.24742188 12.0809375 17.24484375 11.0290625 17.2421875 9.9453125 C17.375 7.1328125 17.375 7.1328125 18.375 4.1328125 C17.385 3.8028125 16.395 3.4728125 15.375 3.1328125 Z M21.375 3.1328125 C21.375 5.4428125 21.375 7.7528125 21.375 10.1328125 C21.705 10.1328125 22.035 10.1328125 22.375 10.1328125 C22.375 7.8228125 22.375 5.5128125 22.375 3.1328125 C22.045 3.1328125 21.715 3.1328125 21.375 3.1328125 Z M-1.625 5.1328125 C-1.625 6.7828125 -1.625 8.4328125 -1.625 10.1328125 C-0.965 10.1328125 -0.305 10.1328125 0.375 10.1328125 C0.705 9.1428125 1.035 8.1528125 1.375 7.1328125 C4.32909701 8.50435754 6.81508376 10.12144974 9.375 12.1328125 C9.375 9.8228125 9.375 7.5128125 9.375 5.1328125 C5.745 5.1328125 2.115 5.1328125 -1.625 5.1328125 Z M18.375 10.1328125 C19.375 12.1328125 19.375 12.1328125 19.375 12.1328125 Z M-1.3125 11.5703125 C-2.12074219 11.67214844 -2.92898437 11.77398437 -3.76171875 11.87890625 C-4.68404297 12.00458984 -4.68404297 12.00458984 -5.625 12.1328125 C-5.625 12.7928125 -5.625 13.4528125 -5.625 14.1328125 C-4.00085622 14.32758989 -2.37563577 14.51340708 -0.75 14.6953125 C0.15492188 14.79972656 1.05984375 14.90414063 1.9921875 15.01171875 C4.39153057 15.32956102 4.39153057 15.32956102 6.375 14.1328125 C6.375 13.4728125 6.375 12.8128125 6.375 12.1328125 C3.28021121 11.10121624 1.84868607 11.15798388 -1.3125 11.5703125 Z M8.375 14.1328125 C7.1684375 15.3703125 7.1684375 15.3703125 5.9375 16.6328125 C3.375 19.1328125 3.375 19.1328125 1.375 19.1328125 C1.045 18.1428125 0.715 17.1528125 0.375 16.1328125 C-0.285 16.1328125 -0.945 16.1328125 -1.625 16.1328125 C-1.625 17.7828125 -1.625 19.4328125 -1.625 21.1328125 C2.005 21.1328125 5.635 21.1328125 9.375 21.1328125 C9.375 18.8228125 9.375 16.5128125 9.375 14.1328125 C9.045 14.1328125 8.715 14.1328125 8.375 14.1328125 Z M18.375 14.1328125 C19.375 16.1328125 19.375 16.1328125 19.375 16.1328125 Z M-5.625 16.1328125 C-5.625 18.4428125 -5.625 20.7528125 -5.625 23.1328125 C-5.295 23.1328125 -4.965 23.1328125 -4.625 23.1328125 C-4.625 20.8228125 -4.625 18.5128125 -4.625 16.1328125 C-4.955 16.1328125 -5.285 16.1328125 -5.625 16.1328125 Z M21.375 16.1328125 C21.375 18.4428125 21.375 20.7528125 21.375 23.1328125 C21.705 23.1328125 22.035 23.1328125 22.375 23.1328125 C22.375 20.8228125 22.375 18.5128125 22.375 16.1328125 C22.045 16.1328125 21.715 16.1328125 21.375 16.1328125 Z M12.375 17.1328125 C12.375 19.4428125 12.375 21.7528125 12.375 24.1328125 C12.705 24.1328125 13.035 24.1328125 13.375 24.1328125 C13.375 21.8228125 13.375 19.5128125 13.375 17.1328125 C13.045 17.1328125 12.715 17.1328125 12.375 17.1328125 Z M-4.625 23.1328125 C-4.625 23.4628125 -4.625 23.7928125 -4.625 24.1328125 C-0.005 24.1328125 4.615 24.1328125 9.375 24.1328125 C9.375 23.8028125 9.375 23.4728125 9.375 23.1328125 C4.755 23.1328125 0.135 23.1328125 -4.625 23.1328125 Z " fill="#000000" transform="translate(7.625,2.8671875)"/>
                    </svg>
                    <p>Deposit</p>
                </button>
                <button onClick={withdraw}>
                    <svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="32" height="32">
                        <path d="M0 0 C9.24 0 18.48 0 28 0 C28 0.66 28 1.32 28 2 C27.34 2 26.68 2 26 2 C26 5.3 26 8.6 26 12 C18.08 12 10.16 12 2 12 C2 8.7 2 5.4 2 2 C1.34 2 0.68 2 0 2 C0 1.34 0 0.68 0 0 Z M4 2 C3.60608604 5.92051886 3.60608604 5.92051886 5.625 8.21875 C8.60700045 10.45525034 10.3030731 10.53696927 14 10.5 C15.546875 10.51546875 15.546875 10.51546875 17.125 10.53125 C20.67219717 9.87578965 21.88441673 8.88858485 24 6 C24 4.68 24 3.36 24 2 C22.02 2 20.04 2 18 2 C17.67 3.65 17.34 5.3 17 7 C15.02 7 13.04 7 11 7 C10.67 5.35 10.34 3.7 10 2 C8.02 2 6.04 2 4 2 Z M13 2 C13 2.99 13 3.98 13 5 C13.66 5 14.32 5 15 5 C15 4.01 15 3.02 15 2 C14.34 2 13.68 2 13 2 Z " fill="#000000" transform="translate(2,4)"/>
                        <path d="M0 0 C0.66 0 1.32 0 2 0 C2 1.65 2 3.3 2 5 C2.99 5 3.98 5 5 5 C4.67 6.32 4.34 7.64 4 9 C1.625 9.625 1.625 9.625 -1 10 C-1.66 9.34 -2.32 8.68 -3 8 C-3 7.01 -3 6.02 -3 5 C-2.01 5 -1.02 5 0 5 C0 3.35 0 1.7 0 0 Z " fill="#000000" transform="translate(15,18)"/>
                    </svg>
                    <p>Withdraw</p>
                </button>
                <button onClick={transfer}>
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="size-5">
                        <path fill-rule="evenodd" d="M1 4a1 1 0 0 1 1-1h16a1 1 0 0 1 1 1v8a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V4Zm12 4a3 3 0 1 1-6 0 3 3 0 0 1 6 0ZM4 9a1 1 0 1 0 0-2 1 1 0 0 0 0 2Zm13-1a1 1 0 1 1-2 0 1 1 0 0 1 2 0ZM1.75 14.5a.75.75 0 0 0 0 1.5c4.417 0 8.693.603 12.749 1.73 1.111.309 2.251-.512 2.251-1.696v-.784a.75.75 0 0 0-1.5 0v.784a.272.272 0 0 1-.35.25A49.043 49.043 0 0 0 1.75 14.5Z" clip-rule="evenodd" />
                    </svg>
                    <p>Transfer</p>
                </button>
                <button onClick={transactionHistory}>
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="size-5">
                        <path d="M12 9a1 1 0 0 1-1-1V3c0-.552.45-1.007.997-.93a7.004 7.004 0 0 1 5.933 5.933c.078.547-.378.997-.93.997h-5Z" />
                        <path d="M8.003 4.07C8.55 3.994 9 4.449 9 5v5a1 1 0 0 0 1 1h5c.552 0 1.008.45.93.997A7.001 7.001 0 0 1 2 11a7.002 7.002 0 0 1 6.003-6.93Z" />
                    </svg>
                    <p>Transaction History</p>
                </button>
                <button onClick={login}>
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="size-5">
                        <path fill-rule="evenodd" d="M17 4.25A2.25 2.25 0 0 0 14.75 2h-5.5A2.25 2.25 0 0 0 7 4.25v2a.75.75 0 0 0 1.5 0v-2a.75.75 0 0 1 .75-.75h5.5a.75.75 0 0 1 .75.75v11.5a.75.75 0 0 1-.75.75h-5.5a.75.75 0 0 1-.75-.75v-2a.75.75 0 0 0-1.5 0v2A2.25 2.25 0 0 0 9.25 18h5.5A2.25 2.25 0 0 0 17 15.75V4.25Z" clip-rule="evenodd" />
                        <path fill-rule="evenodd" d="M1 10a.75.75 0 0 1 .75-.75h9.546l-1.048-.943a.75.75 0 1 1 1.004-1.114l2.5 2.25a.75.75 0 0 1 0 1.114l-2.5 2.25a.75.75 0 1 1-1.004-1.114l1.048-.943H1.75A.75.75 0 0 1 1 10Z" clip-rule="evenodd" />
                    </svg>
                    <p>Login</p>
                </button>
                <button onClick={register}>
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="size-5">
                        <path d="M10 5a3 3 0 1 1-6 0 3 3 0 0 1 6 0ZM1.615 16.428a1.224 1.224 0 0 1-.569-1.175 6.002 6.002 0 0 1 11.908 0c.058.467-.172.92-.57 1.174A9.953 9.953 0 0 1 7 18a9.953 9.953 0 0 1-5.385-1.572ZM16.25 5.75a.75.75 0 0 0-1.5 0v2h-2a.75.75 0 0 0 0 1.5h2v2a.75.75 0 0 0 1.5 0v-2h2a.75.75 0 0 0 0-1.5h-2v-2Z" />
                    </svg>
                    <p>Register Account</p>
                </button>
                <button onClick={logout}>
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="size-5">
                        <path fill-rule="evenodd" d="M3 4.25A2.25 2.25 0 0 1 5.25 2h5.5A2.25 2.25 0 0 1 13 4.25v2a.75.75 0 0 1-1.5 0v-2a.75.75 0 0 0-.75-.75h-5.5a.75.75 0 0 0-.75.75v11.5c0 .414.336.75.75.75h5.5a.75.75 0 0 0 .75-.75v-2a.75.75 0 0 1 1.5 0v2A2.25 2.25 0 0 1 10.75 18h-5.5A2.25 2.25 0 0 1 3 15.75V4.25Z" clip-rule="evenodd" />
                        <path fill-rule="evenodd" d="M6 10a.75.75 0 0 1 .75-.75h9.546l-1.048-.943a.75.75 0 1 1 1.004-1.114l2.5 2.25a.75.75 0 0 1 0 1.114l-2.5 2.25a.75.75 0 1 1-1.004-1.114l1.048-.943H6.75A.75.75 0 0 1 6 10Z" clip-rule="evenodd" />
                    </svg>
                    <p>Logout</p>
                </button>
            </div>
        </div>
    );
}

export default QuickLinks;
